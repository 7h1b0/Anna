<!DOCTYPE html>
<html>
 	<head>
 		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width"/>
		<!-- <link rel="stylesheet" media="screen" href="/public/css/frontend.css" type="text/css"/> -->
 		<title>Client REST For HOMEJS</title>
 	</head>
	<body>	
		<section>
			<h1>Commands</h1>
			<hr>

			<article>
				<h2>Add Commands</h2>
				<form action="http://localhost:666/command" method="post" id="add_commands">

					<input type="text" name="command" placeholder="command" required autofocus>
					<input type="url" name="url" placeholder="url" required>
				
					<button type="submit">Submit</button>
				</form>
			</article>

			<article>
				<h2>Delete commands</h2>
				<form action="/" method="post" id="delete_commands">
					<input type="text" name="id" placeholder="id_command" required>
					<button type="submit">Submit</button>
				</form>
			</article>

		</section>

		<section>

			<h1>Events</h1>
			<hr>
			<article>
				<h2>Add Events</h2>
				<form action="http://localhost:666/event" method="post" id="add_events">

					<input type="text" name="name" placeholder="name" required autofocus>
					<input type="number" name="hour" placeholder="hour" required>
					<input type="number" name="min" placeholder="min" required>
					<input type="text" name="command" placeholder="command" required>
					<input type="number" name="recursive" placeholder="recursive" required>
					<button type="submit">Submit</button>
				</form>
			</article>

			<article>
				<h2>Delete Commands</h2>
				<form action="/" method="post" id="delete_events">
					<input type="text" name="id" placeholder="id_events" required>
					<button type="submit">Submit</button>
				</form>
			</article>
		</section>

		<script>
			(function(){
				var deleteCommand = document.querySelector("#delete_commands"),
					deleteEvent = document.querySelector("#delete_events");

				console.log("YEAH !");


				deleteCommand.onsubmit = function(){
					xhr = new XMLHttpRequest(),

				    xhr.open('DELETE', 'http://localhost:666/command/'+document.getElementsByName("id")[0].value, true); 	      	
				    xhr.send();

					return false;
				}

				deleteEvent.onsubmit = function(){
					xhr = new XMLHttpRequest(),

				    xhr.open('DELETE', 'http://localhost:666/event/'+document.getElementsByName("id")[1].value, true); 	      	
				    xhr.send();

					return false;
				}

			})();
		</script>

	</body>
</html>